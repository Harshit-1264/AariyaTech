{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Desktop/AariyaTech/frontend/components/ProductCard.tsx"],"sourcesContent":["const express = require(\"express\");\r\nconst Stripe = require(\"stripe\");\r\nconst router = express.Router();\r\n\r\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY);\r\n\r\nrouter.post(\"/create-session\", async (req, res) => {\r\n  try {\r\n    const { name, price, images } = req.body;\r\n    const session = await stripe.checkout.sessions.create({\r\n      payment_method_types: [\"card\"],\r\n      line_items: [\r\n        {\r\n          price_data: {\r\n            currency: \"usd\",\r\n            product_data: {\r\n              name,\r\n              images: images && images.length > 0 ? images : [\"https://picsum.photos/400\"],\r\n            },\r\n            unit_amount: price * 100,\r\n          },\r\n          quantity: 1,\r\n        },\r\n      ],\r\n      mode: \"payment\",\r\n      success_url: `${process.env.FRONTEND_URL}/success`,\r\n      cancel_url: `${process.env.FRONTEND_URL}/cancel`,\r\n    });\r\n    res.json({ url: session.url });\r\n  } catch (err) {\r\n    console.error(\"Stripe error:\", err);\r\n    res.status(500).json({ error: err.message });\r\n  }\r\n});\r\n\r\nmodule.exports = router;"],"names":[],"mappings":";AAAA,MAAM;;;;;AACN,MAAM;;;;;AACN,MAAM,SAAS,QAAQ,MAAM;AAE7B,MAAM,SAAS,IAAI,OAAO,QAAQ,GAAG,CAAC,iBAAiB;AAEvD,OAAO,IAAI,CAAC,mBAAmB,OAAO,KAAK;IACzC,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,IAAI,IAAI;QACxC,MAAM,UAAU,MAAM,OAAO,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;YACpD,sBAAsB;gBAAC;aAAO;YAC9B,YAAY;gBACV;oBACE,YAAY;wBACV,UAAU;wBACV,cAAc;4BACZ;4BACA,QAAQ,UAAU,OAAO,MAAM,GAAG,IAAI,SAAS;gCAAC;6BAA4B;wBAC9E;wBACA,aAAa,QAAQ;oBACvB;oBACA,UAAU;gBACZ;aACD;YACD,MAAM;YACN,aAAa,GAAG,QAAQ,GAAG,CAAC,YAAY,CAAC,QAAQ,CAAC;YAClD,YAAY,GAAG,QAAQ,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC;QAClD;QACA,IAAI,IAAI,CAAC;YAAE,KAAK,QAAQ,GAAG;QAAC;IAC9B,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO,IAAI,OAAO;QAAC;IAC5C;AACF;AAEA,OAAO,OAAO,GAAG","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Desktop/AariyaTech/frontend/components/CurrencySelector.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\ntype Props = { country: string; setCountry: (c: string) => void };\r\n\r\nexport default function CurrencySelector({ country, setCountry }: Props) {\r\n  return (\r\n    <select value={country} onChange={(e) => setCountry(e.target.value)}>\r\n      <option value=\"US\">United States (USD)</option>\r\n      <option value=\"IN\">India (INR)</option>\r\n      <option value=\"GB\">United Kingdom (GBP)</option>\r\n    </select>\r\n  );\r\n}"],"names":[],"mappings":";;;;;;AAIe,SAAS,iBAAiB,EAAE,OAAO,EAAE,UAAU,EAAS;IACrE,qBACE,qKAAC;QAAO,OAAO;QAAS,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;0BAChE,qKAAC;gBAAO,OAAM;0BAAK;;;;;;0BACnB,qKAAC;gBAAO,OAAM;0BAAK;;;;;;0BACnB,qKAAC;gBAAO,OAAM;0BAAK;;;;;;;;;;;;AAGzB","debugId":null}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Desktop/AariyaTech/frontend/pages/index.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport ProductCard from '../components/ProductCard';\r\nimport CurrencySelector from '../components/CurrencySelector';\r\nimport { CountryCode } from '../lib/currency';\r\n\r\ntype Product = {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  image: string;\r\n  priceUSD: number;\r\n};\r\n\r\nexport default function Home() {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [country, setCountry] = useState<CountryCode>('US');\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const ipResp = await axios.get('https://ipapi.co/json/');\r\n        const countryCode = ipResp.data.country_code || 'US';\r\n        if (['IN', 'US', 'GB'].includes(countryCode)) setCountry(countryCode as CountryCode);\r\n      } catch (err) {\r\n        // ignore\r\n      }\r\n    })();\r\n\r\n    (async () => {\r\n      const resp = await axios.get(`${process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:4000'}/api/products`);\r\n      setProducts(resp.data);\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <main style={{ padding: 24 }}>\r\n      <h1>Regional Pricing Demo</h1>\r\n      <div style={{ marginBottom: 16 }}>\r\n        <label>Select country: </label>\r\n        <CurrencySelector country={country} setCountry={(c) => setCountry(c as CountryCode)} />\r\n      </div>\r\n\r\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: 16 }}>\r\n        {products.map((p) => (\r\n          <ProductCard key={p.id} product={p} country={country} />\r\n        ))}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;AAWe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAc;IAEpD,IAAA,gHAAS,EAAC;QACR,CAAC;YACC,IAAI;gBACF,MAAM,SAAS,MAAM,qHAAK,CAAC,GAAG,CAAC;gBAC/B,MAAM,cAAc,OAAO,IAAI,CAAC,YAAY,IAAI;gBAChD,IAAI;oBAAC;oBAAM;oBAAM;iBAAK,CAAC,QAAQ,CAAC,cAAc,WAAW;YAC3D,EAAE,OAAO,KAAK;YACZ,SAAS;YACX;QACF,CAAC;QAED,CAAC;YACC,MAAM,OAAO,MAAM,qHAAK,CAAC,GAAG,CAAC,GAAG,6DAAuC,wBAAwB,aAAa,CAAC;YAC7G,YAAY,KAAK,IAAI;QACvB,CAAC;IACH,GAAG,EAAE;IAEL,qBACE,qKAAC;QAAK,OAAO;YAAE,SAAS;QAAG;;0BACzB,qKAAC;0BAAG;;;;;;0BACJ,qKAAC;gBAAI,OAAO;oBAAE,cAAc;gBAAG;;kCAC7B,qKAAC;kCAAM;;;;;;kCACP,qKAAC,mIAAgB;wBAAC,SAAS;wBAAS,YAAY,CAAC,IAAM,WAAW;;;;;;;;;;;;0BAGpE,qKAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,qBAAqB;oBAAwC,KAAK;gBAAG;0BACjG,SAAS,GAAG,CAAC,CAAC,kBACb,qKAAC,8HAAW;wBAAY,SAAS;wBAAG,SAAS;uBAA3B,EAAE,EAAE;;;;;;;;;;;;;;;;AAKhC","debugId":null}}]
}