{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Desktop/AariyaTech/frontend/lib/currency.ts"],"sourcesContent":["export type CountryCode = 'IN' | 'US' | 'GB';\r\n\r\nexport const countryCurrency = {\r\n  IN: { code: 'IN', currency: 'INR', symbol: '₹', rate: 82 },\r\n  US: { code: 'US', currency: 'USD', symbol: '$', rate: 1 },\r\n  GB: { code: 'GB', currency: 'GBP', symbol: '£', rate: 0.78 }\r\n} as const;\r\n\r\nexport function formatPriceUSDBase(priceUSD: number, country: CountryCode){\r\n    const mapping = countryCurrency[country];\r\n    const converted = priceUSD * mapping.rate;\r\n    return `${mapping.symbol} ${converted.toFixed(2)}`;\r\n}"],"names":[],"mappings":";;;;;;AAEO,MAAM,kBAAkB;IAC7B,IAAI;QAAE,MAAM;QAAM,UAAU;QAAO,QAAQ;QAAK,MAAM;IAAG;IACzD,IAAI;QAAE,MAAM;QAAM,UAAU;QAAO,QAAQ;QAAK,MAAM;IAAE;IACxD,IAAI;QAAE,MAAM;QAAM,UAAU;QAAO,QAAQ;QAAK,MAAM;IAAK;AAC7D;AAEO,SAAS,mBAAmB,QAAgB,EAAE,OAAoB;IACrE,MAAM,UAAU,eAAe,CAAC,QAAQ;IACxC,MAAM,YAAY,WAAW,QAAQ,IAAI;IACzC,OAAO,GAAG,QAAQ,MAAM,CAAC,CAAC,EAAE,UAAU,OAAO,CAAC,IAAI;AACtD","debugId":null}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Desktop/AariyaTech/frontend/components/ProductCard.tsx"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { formatPriceUSDBase } from '../lib/currency';\r\n\r\ntype Product = {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  image: string;\r\n  priceUSD: number;\r\n};\r\n\r\nexport default function ProductCard({ product, country }: { product: Product; country: 'IN' | 'US' | 'GB' }) {\r\n  async function buy() {\r\n    try {\r\n      const resp = await axios.post(`${process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:4000'}/api/checkout/create-session`, {\r\n        productId: product.id,\r\n        country\r\n      });\r\n      // Redirect to Stripe Checkout\r\n      window.location.href = resp.data.url;\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Failed to create checkout session');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ border: '1px solid #ddd', background: '#988f8fff', padding: 16, borderRadius: 8 }}>\r\n      <img src={product.image} alt={product.name} width={240} />\r\n      <h3>{product.name}</h3>\r\n      <p>{product.description}</p>\r\n      <p>{formatPriceUSDBase(product.priceUSD, country)}</p>\r\n      <button onClick={buy} style={{padding: 5, borderRadius: 5, border: '1px solid #5f9ba87d'}}>Buy Now</button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;;;;;AAUe,SAAS,YAAY,EAAE,OAAO,EAAE,OAAO,EAAqD;IACzG,eAAe;QACb,IAAI;YACF,MAAM,OAAO,MAAM,qHAAK,CAAC,IAAI,CAAC,GAAG,6DAAuC,wBAAwB,4BAA4B,CAAC,EAAE;gBAC7H,WAAW,QAAQ,EAAE;gBACrB;YACF;YACA,8BAA8B;YAC9B,OAAO,QAAQ,CAAC,IAAI,GAAG,KAAK,IAAI,CAAC,GAAG;QACtC,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM;QACR;IACF;IAEA,qBACE,qKAAC;QAAI,OAAO;YAAE,QAAQ;YAAkB,YAAY;YAAa,SAAS;YAAI,cAAc;QAAE;;0BAC5F,qKAAC;gBAAI,KAAK,QAAQ,KAAK;gBAAE,KAAK,QAAQ,IAAI;gBAAE,OAAO;;;;;;0BACnD,qKAAC;0BAAI,QAAQ,IAAI;;;;;;0BACjB,qKAAC;0BAAG,QAAQ,WAAW;;;;;;0BACvB,qKAAC;0BAAG,IAAA,8HAAkB,EAAC,QAAQ,QAAQ,EAAE;;;;;;0BACzC,qKAAC;gBAAO,SAAS;gBAAK,OAAO;oBAAC,SAAS;oBAAG,cAAc;oBAAG,QAAQ;gBAAqB;0BAAG;;;;;;;;;;;;AAGjG","debugId":null}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Desktop/AariyaTech/frontend/components/CurrencySelector.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\ntype Props = { country: string; setCountry: (c: string) => void };\r\n\r\nexport default function CurrencySelector({ country, setCountry }: Props) {\r\n  return (\r\n    <select value={country} onChange={(e) => setCountry(e.target.value)}>\r\n      <option value=\"US\">United States (USD)</option>\r\n      <option value=\"IN\">India (INR)</option>\r\n      <option value=\"GB\">United Kingdom (GBP)</option>\r\n    </select>\r\n  );\r\n}"],"names":[],"mappings":";;;;;;AAIe,SAAS,iBAAiB,EAAE,OAAO,EAAE,UAAU,EAAS;IACrE,qBACE,qKAAC;QAAO,OAAO;QAAS,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;0BAChE,qKAAC;gBAAO,OAAM;0BAAK;;;;;;0BACnB,qKAAC;gBAAO,OAAM;0BAAK;;;;;;0BACnB,qKAAC;gBAAO,OAAM;0BAAK;;;;;;;;;;;;AAGzB","debugId":null}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Desktop/AariyaTech/frontend/pages/index.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport ProductCard from '../components/ProductCard';\r\nimport CurrencySelector from '../components/CurrencySelector';\r\nimport { CountryCode } from '../lib/currency';\r\n\r\ntype Product = {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  image: string;\r\n  priceUSD: number;\r\n};\r\n\r\nexport default function Home() {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [country, setCountry] = useState<CountryCode>('US');\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const ipResp = await axios.get('https://ipapi.co/json/');\r\n        const countryCode = ipResp.data.country_code || 'US';\r\n        if (['IN', 'US', 'GB'].includes(countryCode)) setCountry(countryCode as CountryCode);\r\n      } catch (err) {\r\n        // ignore\r\n      }\r\n    })();\r\n\r\n    (async () => {\r\n      const resp = await axios.get(`${process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:4000'}/api/products`);\r\n      setProducts(resp.data);\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <main style={{ padding: 24 }}>\r\n      <h1>Regional Pricing Demo</h1>\r\n      <div style={{ marginBottom: 16 }}>\r\n        <label>Select country: </label>\r\n        <CurrencySelector country={country} setCountry={(c) => setCountry(c as CountryCode)} />\r\n      </div>\r\n\r\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: 16 }}>\r\n        {products.map((p) => (\r\n          <ProductCard key={p.id} product={p} country={country} />\r\n        ))}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;AAWe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAc;IAEpD,IAAA,gHAAS,EAAC;QACR,CAAC;YACC,IAAI;gBACF,MAAM,SAAS,MAAM,qHAAK,CAAC,GAAG,CAAC;gBAC/B,MAAM,cAAc,OAAO,IAAI,CAAC,YAAY,IAAI;gBAChD,IAAI;oBAAC;oBAAM;oBAAM;iBAAK,CAAC,QAAQ,CAAC,cAAc,WAAW;YAC3D,EAAE,OAAO,KAAK;YACZ,SAAS;YACX;QACF,CAAC;QAED,CAAC;YACC,MAAM,OAAO,MAAM,qHAAK,CAAC,GAAG,CAAC,GAAG,6DAAuC,wBAAwB,aAAa,CAAC;YAC7G,YAAY,KAAK,IAAI;QACvB,CAAC;IACH,GAAG,EAAE;IAEL,qBACE,qKAAC;QAAK,OAAO;YAAE,SAAS;QAAG;;0BACzB,qKAAC;0BAAG;;;;;;0BACJ,qKAAC;gBAAI,OAAO;oBAAE,cAAc;gBAAG;;kCAC7B,qKAAC;kCAAM;;;;;;kCACP,qKAAC,mIAAgB;wBAAC,SAAS;wBAAS,YAAY,CAAC,IAAM,WAAW;;;;;;;;;;;;0BAGpE,qKAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,qBAAqB;oBAAwC,KAAK;gBAAG;0BACjG,SAAS,GAAG,CAAC,CAAC,kBACb,qKAAC,8HAAW;wBAAY,SAAS;wBAAG,SAAS;uBAA3B,EAAE,EAAE;;;;;;;;;;;;;;;;AAKhC","debugId":null}}]
}